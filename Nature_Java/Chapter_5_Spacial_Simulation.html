<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

        var grid_length = 100; // 100 x 100 grid
        var grid = [];
        var p = 0.5;
        var max_mating_distance = 1;
        var a1a1 = 0; // genotype
        var a1a2 = 0;
        var a2a2 = 0;
        var generation_counter = 0;

        // two-dimentional grid
        // Obey Hardy-Weinberg Equilibrium
        function init_grid(){
            for (var i = 0; i < grid_length; i = i + 1){
                    grid[i] = [];                    
                for (var ii = 0; ii < grid_length; ii = ii + 1){
                    var random_number = Math.random();
                    if (random_number < p * p){
                        grid[i][ii] = 'A1A1';
                        a1a1 = a1a1 + 1;
                    }  
                    else if (random_number > 1 - (1-p) * (1-p)) {
                        grid[i][ii] = 'A2A2';
                        a2a2 = a2a2 + 1;
                    }   
                    else {
                        grid[i][ii] = 'A1A2';
                        a1a2 = a1a2 + 1;
                    }          
                }
            }
            console.log(a1a1, a1a2, a2a2);
        }

        init_grid();
    </script>
</body>
</html>